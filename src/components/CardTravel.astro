---
import IconTravel from "./IconTravel.astro";

const { data } = Astro.props;

// TODO: Handle waypoints and add a map interface
---

<aside>
	<h2>
		{data.location.title} -> {data.route[data.route.length - 1].location.title}
	</h2>
	<time datetime={`${data.date.date} ${data.date.time}`}>
		{data.date.time}
	</time>
	<p>{data.location.location.location}</p>
	{
		data.people && (
			<p>
				With{" "}
				{data.people.map((person: any, index: number) => {
					return (
						<span>
							{index !== 0 && ", "}
							<a href={`/person/${person.slug}`}>{person.name}</a>
						</span>
					);
				})}
			</p>
		)
	}
	<ul role="list">
		<li>
			{data.location.title}
		</li>
		{
			data.route.map((stop: any, index: number) => {
				if (stop.key !== "location") return;

				return (
					<li>
						<IconTravel type={stop.type} />
						{stop.location.title}
					</li>
				);
			})
		}
	</ul>
</aside>

<style>
	aside {
		padding: 1rem;
	}
</style>
